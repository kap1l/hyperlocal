import * as React from 'react';
import { AppRegistry } from 'react-native';
import { AndroidWidget } from '../AndroidWidget';
import { buildWidgetTree } from './build-widget-tree';
const WIDGET_CONFIGURATION_SCREEN_KEY = 'RNWidgetConfigurationScreen';
/**
 * Register a screen that will handle widget configuration
 *
 * @param WidgetConfigurationScreenComponent {@link WidgetConfigurationScreen}
 */
export function registerWidgetConfigurationScreen(WidgetConfigurationScreenComponent) {
  AppRegistry.registerComponent(WIDGET_CONFIGURATION_SCREEN_KEY, () => widgetConfigurationScreenProvider(WidgetConfigurationScreenComponent));
}
function widgetConfigurationScreenProvider(WidgetConfigurationScreen) {
  return _ref => {
    let {
      widgetInfo
    } = _ref;
    function renderWidget(widgetComponent) {
      AndroidWidget.drawWidgetById(buildWidgetTree(widgetComponent), widgetInfo.widgetName, widgetInfo.widgetId);
    }
    function setResult(result) {
      AndroidWidget.finishWidgetConfiguration(widgetInfo.widgetId, result);
    }
    return /*#__PURE__*/React.createElement(WidgetConfigurationScreen, {
      widgetInfo: widgetInfo,
      renderWidget: renderWidget,
      setResult: setResult
    });
  };
}
//# sourceMappingURL=register-widget-configuration-screen.js.map